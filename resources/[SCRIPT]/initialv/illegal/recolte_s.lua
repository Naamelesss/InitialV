local VarS = {
    {id = 1, use = 10, type = "feuilledecocaine", x = -495.108, y = 5549.455, z = 73.185, r = 1.0}, -- COKE
    {id = 2, use = 10, type = "feuilledecocaine", x= -493.41467285156, y= 5549.576171875, z= 73.37663269043, r = 1.0},  -- COKE

    {id = 3, use = 10, type = "feuilledecocaine", x= -492.31552124023, y= 5549.62109375, z= 73.481224060059, r = 1.0},
    {id = 4, use = 10, type = "feuilledecocaine", x= -490.62026977539, y= 5549.7543945313, z= 73.611557006836, r = 1.0},
    {id = 5, use = 10, type = "feuilledecocaine", x= -489.13757324219, y= 5549.9213867188, z= 73.719566345215, r = 1.0},
    {id = 6, use = 10, type = "feuilledecocaine", x= -487.72158813477, y= 5549.9658203125, z= 73.811004638672, r = 1.0},
    {id = 7, use = 10, type = "feuilledecocaine", x= -485.60308837891, y= 5549.685546875, z= 73.975509643555, r = 1.0},
    {id = 8, use = 10, type = "feuilledecocaine", x= -483.93371582031, y= 5549.6328125, z= 74.07982635498, r = 1.0}, -- 0.5
    {id = 9, use = 10, type = "feuilledecocaine", x= -482.71960449219, y= 5549.712890625, z= 74.103958129883, r = 1.0},
    {id = 10, use = 10, type = "feuilledecocaine", x= -481.19964599609, y= 5549.7885742188, z= 74.135841369629, r = 1.0},
    {id = 11, use = 10, type = "feuilledecocaine", x= -479.30200195313, y= 5549.7182617188, z= 74.203575134277, r = 1.0},
    {id = 12, use = 10, type = "feuilledecocaine", x= -478.13531494141, y= 5549.7124023438, z= 74.255661010742, r = 1.0},

    {id = 13, use = 10, type = "feuilledecocaine", x= -478.29531860352, y= 5552.9052734375, z= 73.863876342773, r = 1.0},
    {id = 14, use = 10, type = "feuilledecocaine", x= -479.63198852539, y= 5552.9096679688, z= 73.797340393066, r = 1.0},
    {id = 15, use = 10, type = "feuilledecocaine", x= -481.26565551758, y= 5552.9096679688, z= 73.749114990234, r = 1.0},
    {id = 16, use = 10, type = "feuilledecocaine", x= -483.03869628906, y= 5552.9096679688, z= 73.705879211426, r = 1.0},
    {id = 17, use = 10, type = "feuilledecocaine", x= -484.44616699219, y= 5552.9038085938, z= 73.663551330566, r = 1.0},
    {id = 18, use = 10, type = "feuilledecocaine", x= -486.05963134766, y= 5552.9096679688, z= 73.565055847168, r = 1.0},
    {id = 19, use = 10, type = "feuilledecocaine", x= -487.57568359375, y= 5552.7534179688, z= 73.504013061523, r = 1.0},
    {id = 20, use = 10, type = "feuilledecocaine", x= -488.92565917969, y= 5552.8408203125, z= 73.422843933105, r = 1.0},
    {id = 21, use = 10, type = "feuilledecocaine", x= -490.65286254883, y= 5552.9438476563, z= 73.268905639648, r = 1.0},
    {id = 22, use = 10, type = "feuilledecocaine", x= -492.6139831543, y= 5553.064453125, z= 73.116241455078, r = 1.0},
    {id = 23, use = 10, type = "feuilledecocaine", x= -493.55068969727, y= 5553.12109375, z= 73.020820617676, r = 1.0},
    {id = 24, use = 10, type = "feuilledecocaine", x= -495.59375, y= 5553.24609375, z= 72.77855682373, r = 1.0},

    {id = 25, use = 10, type = "feuilledecocaine", x= -485.70361328125, y= 5556.7553710938, z= 73.187927246094, r = 1.0},
    {id = 26, use = 10, type = "feuilledecocaine", x= -483.99374389648, y= 5556.7563476563, z= 73.270835876465, r = 1.0},
    {id = 27, use = 10, type = "feuilledecocaine", x= -482.97631835938, y= 5556.76171875, z= 73.311027526855, r = 1.0},
    {id = 28, use = 10, type = "feuilledecocaine", x= -481.30184936523, y= 5556.7553710938, z= 73.352081298828, r = 1.0},
    {id = 29, use = 10, type = "feuilledecocaine", x= -479.63708496094, y= 5556.7553710938, z= 73.399314880371, r = 1.0},
    {id = 30, use = 10, type = "feuilledecocaine", x= -478.31942749023, y= 5556.7578125, z= 73.453643798828, r = 1.0},

    {id = 31, use = 10, type = "plantedeweed", x= 1055.9057617188, y= -3202.3774414063, z= -39.052131652832, r = 1.0},
    {id = 32, use = 10, type = "plantedeweed", x= 1057.0699462891, y= -3202.8054199219, z= -39.110893249512, r = 1.0},
    {id = 33, use = 10, type = "plantedeweed", x= 1058.5423583984, y= -3202.3735351563, z= -39.046047210693, r = 1.0},
    {id = 34, use = 10, type = "plantedeweed", x= 1058.7474365234, y= -3200.4008789063, z= -39.001560211182, r = 1.0},
    {id = 35, use = 10, type = "plantedeweed", x= 1057.4555664063, y= -3200.7419433594, z= -39.103130340576, r = 1.0},
    {id = 36, use = 10, type = "plantedeweed", x= 1055.9556884766, y= -3200.9582519531, z= -39.045215606689, r = 1.0},
    {id = 37, use = 10, type = "plantedeweed", x= 1055.9770507813, y= -3199.4165039063, z= -39.048969268799, r = 1.0},
    {id = 38, use = 10, type = "plantedeweed", x= 1057.5219726563, y= -3198.9438476563, z= -39.129203796387, r = 1.0},
    {id = 39, use = 10, type = "plantedeweed", x= 1058.8981933594, y= -3198.5202636719, z= -39.030334472656, r = 1.0},
    {id = 40, use = 10, type = "plantedeweed", x= 1056.4427490234, y= -3197.0031738281, z= -39.052646636963, r = 1.0},

    {inuse = false, type = "traitementweed", x= 1038.14, y= -3205.45, z= -38.16, r = 4.5},

    {inuse = false, temperature = 0, time = 0, feuilledecoca = 0, kerosene = 0, acidesulfuriquedilue = 0, type = "cuveamelangecocaine", x= 1005.784, y= -3200.332, z= -38.519, r = 1.0},
    --{inuse = false, time = -1, feuilledecoca = 47, kerosene = 397, acidesulfuriquedilue = 59, type = "cuveamelangecocaine", x= 1005.784, y= -3200.332, z= -38.519, r = 1.0},
    {inuse = false, type = "reglagetemperaturecocaine", x= 1003.976, y= -3200.770, z= -38.993, r = 1.0},
    {inuse = false, type = "reglagetempsetvalidationcocaine", x= 1007.757, y= -3201.261, z= -38.993, r = 1.0},
}

RegisterServerEvent('InitialCore:ResetDItem')
AddEventHandler('InitialCore:ResetDItem', function(ID)
    if ID == 31 then
        VarS[31] = {inuse = false, time = 0, feuilledecoca = 0, kerosene = 0, acidesulfuriquedilue = 0, type = "cuveamelangecocaine", x= 1005.784, y= -3200.332, z= -38.519, r = 1.0}
    end
end)

RegisterServerEvent('InitialCore:ChangeInfoCuve')
AddEventHandler('InitialCore:ChangeInfoCuve', function(start, temperature2, time2, coca, kero, acidesulf)
    --[[print(start or VarS[31].inuse)
    print(temperature2 or VarS[31].temperature)
    print(time2 or VarS[31].time)
    print(coca or VarS[31].feuilledecoca)
    print(kero or VarS[31].kerosene)
    print(acidesulf or VarS[31].acidesulfuriquedilue)]]
    VarS[31] = {inuse = start or VarS[31].inuse, temperature = temperature2 or VarS[31].temperature, time = time2 or VarS[31].time, feuilledecoca = coca or VarS[31].feuilledecoca, kerosene = kero or VarS[31].kerosene, acidesulfuriquedilue = acidesulf or VarS[31].acidesulfuriquedilue, type = "cuveamelangecocaine", x= 1005.784, y= -3200.332, z= -38.519, r = 1.0}
    --VarS[31] = {inuse = false, time = time2 or VarS[31].time, feuilledecoca = 0, kerosene = 0, acidesulfuriquedilue = 0, type = "cuveamelangecocaine", x= 1005.784, y= -3200.332, z= -38.519, r = 1.0}
end)

Citizen.CreateThread(function()
    while true do
        Wait(120000)
        for k, v in pairs(VarS) do
            if v.inuse then
                if v.type == "cuveamelangecocaine" then
                    if tonumber(v.time) < 120 then
                        v.time = tonumber(v.time)+2
                    end
                end
            end
        end
    end
end)

RegisterServerCallback('InitialCore:GetVar', function(source, callback)
    if line then
        print(VarS[line])
        callback(VarS[line])
    else
        callback(VarS)
    end
end, line)

RegisterServerCallback('InitialCore:GetVarCanUse', function(source, callback, ID)
    for k, v in pairs(VarS) do
        if v.id == ID then
            if v.use >= 1 then
                callback(true)
                v.use = v.use-1
            else
                callback(false)
            end
        end
    end
end)